<app-header2 *ngIf="!isLogin">
</app-header2>
<app-header *ngIf="isLogin"></app-header>
<div class="beta-full" *ngIf="isBetaPopUp && !isLogin">
    <div class="beta-fullbox">
        <h1>
            Wondrfly is currently in beta. Join our exclusive
             beta program to experience more!
        </h1>
        <button [routerLink]="['/ask-to-join']">JOIN BETA PROGRAM</button>
    </div>
</div>
<section class="main_outer common-headermargin" [ngClass]="{'click-disabled':isBetaPopUp && !isLogin}">


    <div class="search_activity">
        <div class="row row-0">
            <div class="col-md-8">
                <div class="search-filterss">
                    <div class="category_list" id="accordionExample">
                        <ul>
                            <li class="cursor">
                                <a aria-expanded="true" data-target="#category" [ngClass]="{ active: isCategoryFilter }"
                                    data-toggle="collapse" joyrideStep="firstStep" title="ðŸ’¡ Search with filters"
                                    text="Narrow down your search by clicking on any of the filters above. ">Categories</a>
                                <div class="collapse main_collpase time_collpase verification_modal partcategory"
                                    id="category" data-parent="#accordionExample">
                                    <div class="collpase_content cate-dilter">
                                        <div class="container">
                                            <div class="row categories-filt">
                                                <div class="col-5 categories-filterheader">
                                                    <h2>Categories</h2>
                                                </div>
                                                <div class="col-7 sub-categoriesfilterheader">
                                                    <h2>
                                                        Sub categories

                                                        <span>
                                                            <span>
                                                                <a class="clear cusror" data-target="#category"
                                                                    data-toggle="collapse"
                                                                    (click)="selectedCat='';categoryId='';tempCategoryId='';subCats=[];selectedSubCategories=[];tempSearchedSubCategory='';tempSelectedSubCategories=[];programFilter()">Clear
                                                                    all</a>
                                                            </span>
                                                            <button data-target="#category" data-toggle="collapse"
                                                                (click)="categoryId=tempCategoryId;searchedSubCategory=tempSearchedSubCategory;selectedSubCategories=tempSelectedSubCategories ;programFilter()">
                                                                APPLY FILTER
                                                            </button>
                                                        </span>
                                                    </h2>
                                                </div>
                                            </div>
                                            <div class="row meta-overflow-row">
                                                <div class="col-5 categories-filtercontent">
                                                    <h3 *ngFor="let cat of categories"
                                                        [ngClass]="{ active: selectedCat == cat?.id }"
                                                        (click)="getSubCateById(cat)">
                                                        {{ cat?.name }}
                                                    </h3>
                                                </div>
                                                <div class="col-7 sub-categoriesfiltercontent">
                                                    <label class="cursor" *ngFor="let s of subCats; let i = index"
                                                        for="categoriescheck{{i}}">
                                                        <span><input type="checkbox" [disabled]="!s?.programCount"
                                                                class="k-checkbox categories-checkbox"
                                                                id="categoriescheck{{i}}" name="categoriescheck"
                                                                value="{{ s }}" [checked]="s.checked" (change)="
                                onProgramsSubCategoryChange(i, $event)
                                " /></span>
                                                        <h3 [class.checkbox-checked-name]="s.checked">
                                                            {{ s?.name }}<span>({{ s?.programCount }})</span>
                                                        </h3>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a [ngClass]="{ active: isAgeFilter }" aria-controls="collapseExample"
                                    aria-expanded="true" data-target="#ageGroup" data-toggle="collapse">Age
                                </a>
                                <div class="collapse main_collpase verification_modal" id="ageGroup"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group">
                                            <ngx-slider [(value)]="minAge" [(highValue)]="maxAge" [options]="ageOption">
                                            </ngx-slider>
                                        </div>
                                    </div>
                                    <div class="submit_btn">
                                        <button (click)="isAgeFilter=false;programFilter()" type="button"
                                            aria-controls="collapseExample" aria-expanded="true" data-target="#ageGroup"
                                            data-toggle="collapse" class="cancel_btn">
                                            Clear
                                        </button>

                                        <button (click)="isAgeFilter=true
                    ;programFilter()" search-results.scrollTop="0" data-target="#ageGroup" data-toggle="collapse"
                                            class="submitBtn">
                                            Apply
                                        </button>
                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a aria-expanded="true" [ngClass]="{ active: isTypeFilter }" aria-expanded="true"
                                    data-target="#typess" data-toggle="collapse">Type</a>
                                <div class="collapse main_collpase typess verification_modal" id="typess"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group typess">
                                            <div class="input_outer">
                                                <form action="">
                                                    <div class="typess-flex"
                                                        *ngFor="let type of programTypes;let i = index">
                                                        <input type="checkbox" #types
                                                            (change)="onProgramTypeChange(i,type, $event.target.checked)"
                                                            class="k-checkbox" name="type1" value="{{type}}" />
                                                        <label for="type2" class="k-checkbox-label"
                                                            for="type1">{{type}}</label>
                                                    </div>


                                                </form>
                                            </div>
                                        </div>

                                        <div class="submit_btn">
                                            <button class="cancel_btn" data-target="#typess" data-toggle="collapse"
                                                (click)="clearProgramTypes()">
                                                Clear
                                            </button>
                                            <button class="submitBtn" data-target="#typess" data-toggle="collapse"
                                                (click)="selectedProgramTypes=tempSelectedProgramTypes;programFilter()">
                                                Apply
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a [ngClass]="{ active: isDateFilter }" aria-expanded="true" data-target="#date"
                                    data-toggle="collapse">Dates</a>
                                <div class="
                    collapse
                    main_collpase
                    verification_modal
                    date-rangecal
                  " id="date" data-parent="#accordionExample">
                                    <ngx-daterangepicker-material (choosedDate)="choosedDate($event)"
                                        [minDate]="minDate" [autoApply]="true">
                                    </ngx-daterangepicker-material>

                                    <div class="calender-botoombox">
                                        <div class="calender-daterange">
                                            <div class="calender-daterange1" *ngIf="fromDate">
                                                {{ fromDate | date: "shortDate" }}
                                            </div>
                                            <img *ngIf="toDate" src="assets/calenderarrows.svg" />
                                            <div class="calender-daterange2" *ngIf="toDate">
                                                {{ toDate | date: "shortDate" }}
                                            </div>
                                        </div>
                                        <div class="calender-buttons">
                                            <button class="calender-buttons1" data-target="#date" data-toggle="collapse"
                                                (click)="isDateFilter=false;programFilter()">
                                                Cancel
                                            </button>
                                            <button class="calender-buttons2" data-target="#date" data-toggle="collapse"
                                                (click)="isDateFilter=true;programFilter()">
                                                Apply
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a aria-controls="collapseExample" [ngClass]="{ active: isTimeFilter }"
                                    aria-expanded="true" data-target="#timess" data-toggle="collapse">Time</a>
                                <div class="collapse main_collpase typess verification_modal" id="timess"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group typess">
                                            <div class="input_outer">
                                                <form action="">
                                                    <div class="typess-flex"
                                                        *ngFor="let time of programTimes;let i = index">
                                                        <input type="checkbox" class="k-checkbox"
                                                            (change)="onProgramTimeChange(i,time, $event.target.checked)"
                                                            #times name="time1" value="{{time}}" />
                                                        <label for="time1" class="k-checkbox-label">{{time}}
                                                            ({{programTimesShow[i]}})</label>
                                                    </div>

                                                </form>
                                            </div>
                                        </div>


                                        <div class="submit_btn">
                                            <button type="button" aria-controls="collapseExample" aria-expanded="true"
                                                data-target="#timess" (click)="clearProgramTime()"
                                                data-toggle="collapse" class="cancel_btn">
                                                Clear
                                            </button>

                                            <button
                                                (click)="selectedProgramTime=tempSelectedProgramTime;programFilter()"
                                                search-results.scrollTop="0" data-target="#timess"
                                                data-toggle="collapse" class="submitBtn">
                                                Apply

                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </li>

                            <li class="cursor">
                                <a aria-expanded="true" [ngClass]="{ active: isDaysFilter }" data-target="#Dayss"
                                    data-toggle="collapse">Days</a>
                                <div class="collapse main_collpase typess verification_modal" id="Dayss"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group typess">
                                            <div class="input_outer">
                                                <h1>Select Days</h1>
                                                <form action="">
                                                    <div class="typess-flex"
                                                        *ngFor="let day of weakDays; let i = index">
                                                        <input type="checkbox" class="k-checkbox" #days name="Days"
                                                            (change)="onDayChange(i,day, $event.target.checked)"
                                                            value="{{day}}">
                                                        <label for="Days1"
                                                            class="k-checkbox-label">{{day.charAt(0)+day.charAt(1)+day.charAt(2)}}</label>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        <div class="submit_btn">
                                            <button (click)="clearProgramDays()" type="button"
                                                aria-controls="collapseExample" aria-expanded="true"
                                                data-target="#Dayss" data-toggle="collapse" class="cancel_btn">
                                                Clear
                                            </button>

                                            <button (click)="selectedDays=tempSelectedDays;programFilter()"
                                                search-results.scrollTop="0" data-target="#Dayss" data-toggle="collapse"
                                                class="submitBtn">
                                                Apply
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a [ngClass]="{ active: isPriceFilter }" aria-controls="collapseExample"
                                    aria-expanded="true" data-target="#priceGroup" data-toggle="collapse">Price
                                </a>
                                <div class="collapse main_collpase verification_modal" id="priceGroup"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group">
                                            <ngx-slider [(value)]="minPrice" [(highValue)]="maxPrice"
                                                [options]="priceOption">
                                            </ngx-slider>
                                        </div>
                                    </div>
                                    <div class="submit_btn">
                                        <button
                                            (click)="minPrice = 50;maxPrice = 300;isPriceFilter=false;programFilter()"
                                            type="button" aria-controls="collapseExample" aria-expanded="true"
                                            data-target="#priceGroup" data-toggle="collapse" class="cancel_btn">
                                            Clear
                                        </button>

                                        <button (click)="isPriceFilter=true;programFilter()"
                                            search-results.scrollTop="0" data-target="#priceGroup"
                                            data-toggle="collapse" class="submitBtn">
                                            Apply
                                        </button>
                                    </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a aria-expanded="true" [ngClass]="{ active:(isOnline || isInPerson)}" aria-expanded="true"
                                    data-target="#format" data-toggle="collapse">Format</a>
                                <div class="format-collapse-info collapse main_collpase typess verification_modal" id="format"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group typess">
                                            <div class="input_outer">
                                                <form action="">
                                                    <div class="typess-flex" >
                                                        <input  data-target="#format"
                                                        data-toggle="collapse" type="checkbox" [checked]="isOnline && !isInPerson"
                                                        (change)="(isOnline?isOnline=false:isOnline=true);(isInPerson?isInPerson=false:false);programFilter()"
                                                            class="k-checkbox" />
                                                          
                                                        <label  class="k-checkbox-label"
                                                            for="type1">Online</label>
                                                    </div>
                                                    <div class="typess-flex">
                                                        <input type="checkbox" data-target="#format"
                                                        data-toggle="collapse" [checked]="!isOnline && isInPerson"
                                                        (change)="(isInPerson?isInPerson=false:isInPerson=true);(isOnline?isOnline=false:false);programFilter()"
                                                            class="k-checkbox" />
                                                            <label  class="k-checkbox-label"
                                                            for="type1">In-person</label>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                   </div>
                                </div>
                            </li>
                            <li class="cursor">
                                <a aria-expanded="true"(click)="isTopFilterCheckBox=!isTopFilterCheckBox;programFilter()" [ngClass]="{ active:isTopFilterCheckBox}" aria-expanded="true"
                                    data-target="#Rating" data-toggle="collapse">Rating</a>
                                <!-- <div class="rating-collapse-info collapse main_collpase typess verification_modal" id="Rating"
                                    data-parent="#accordionExample">
                                    <div class="collpase_content">
                                        <div class="form-group typess">
                                            <div class="input_outer">
                                                <form action="">
                                                    <div class="typess-flex" >
                                                        <input  data-target="#format"
                                                        data-toggle="collapse" type="checkbox" [checked]="isOnline && !isInPerson"
                                                        (change)="(isOnline?isOnline=false:isOnline=true);(isInPerson?isInPerson=false:false);programFilter()"
                                                            class="k-checkbox" />
                                                          
                                                        <label  class="k-checkbox-label"
                                                            for="type1">Online</label>
                                                    </div>
                                                    <div class="typess-flex">
                                                        <input type="checkbox" data-target="#format"
                                                        data-toggle="collapse" [checked]="!isOnline && isInPerson"
                                                        (change)="(isInPerson?isInPerson=false:isInPerson=true);(isOnline?isOnline=false:false);programFilter()"
                                                            class="k-checkbox" />
                                                            <label  class="k-checkbox-label"
                                                            for="type1">In-person</label>
                                                    </div>


                                                </form>
                                            </div>
                                        </div>
                                   </div>
                                </div> -->
                            </li>

                            <!-- <li class="cursor">
                                <a class="top-rateds" aria-expanded="true" [ngClass]="{ active: isTopFilter }"><span
                                        class="simple-toggle">
                                        Top Rated
                                        <span>
                                            <label class="switch1">
                                                <input [(ngModel)]="isTopFilterCheckBox"
                                                    (change)="contentLoaded=false;programFilter()" type="checkbox" />
                                                <span class="slider1"></span>
                                            </label>
                                        </span>
                                    </span>
                                </a>
                            </li> -->
                        </ul>
                    </div>
                </div>
            </div>
<!-- 
            <div class="col-md-4 toggle-border">
                <div class="toggle-filtersearch">
                    <button [class.active]="isOnline"
                        (click)="(isOnline?isOnline=false:isOnline=true);(isInPerson?isInPerson=false:false);programFilter()"
                        class="btn1-filtersearch">
                        Online
                    </button>
                    <button [class.active]="isInPerson"
                        (click)="(isInPerson?isInPerson=false:isInPerson=true);(isOnline?isOnline=false:false);programFilter()"
                        class="btn2-filtersearch">
                        In person
                    </button>
                </div>
            </div> -->
        </div>
        <div class="row row-0">
            <div class="col-10" [ngClass]="{'col-12':isMap || isOnline}">
                <div class="chip-set-bar chip-set-bar-btn" [hidden]="showReset">
                    <div class="map-without-heading display-inline">
                        <h2>
                            <span class="span-h3">&nbsp;&nbsp;<b>{{activitiesCount}}</b> activities
                                from <b>{{providerProgram?.length}}</b> providers</span>
                        </h2>
                    </div>
                </div>
                <div class="chip-set-bar chip-set-bar-btn" [hidden]="!showReset">
                    <div class="map-without-heading display-inline">
                        <h2>
                            <span [hidden]="!searchedSubCategory"><a><span>{{searchedSubCategory}}</span><span
                                        *ngIf="selectedSubCategories?.length && selectedSubCategories?.length>1"> +
                                        {{selectedSubCategories?.length-1}} More</span></a> in Jersey City</span><span
                                class="span-h3">&nbsp;<span *ngIf="searchedSubCategory">|</span>&nbsp;
                                <b>{{activitiesCount}}</b> activities
                                from <b>{{providerProgram?.length}}</b> providers</span>
                        </h2>
                    </div>
                    <button class="btn_style save_btn cursor" *ngIf="!isInPerson && isOnline">
                        online
                        <mat-icon (click)="contentLoaded=false;isOnline=!isOnline;programFilter()">cancel</mat-icon>
                    </button>
                    <button class="btn_style save_btn cursor" *ngIf="isInPerson && !isOnline">
                        in-persion
                        <mat-icon (click)="contentLoaded=false;isInPerson=!isInPerson;programFilter()">cancel</mat-icon>
                    </button>


                    <button class="btn_style save_btn cursor" *ngIf="isAgeFilter">
                        Age {{minAge}}-{{maxAge}} years
                        <mat-icon (click)="contentLoaded=false;isAgeFilter=!isAgeFilter;programFilter()">cancel
                        </mat-icon>
                    </button>
                    <button class="btn_style save_btn cursor" *ngIf="isPriceFilter">
                        Price ${{minPrice}}-${{maxPrice}}
                        <mat-icon (click)="contentLoaded=false;isPriceFilter=!isPriceFilter;programFilter()">cancel
                        </mat-icon>
                    </button>
                    <button class="btn_style save_btn cursor" *ngIf="isDateFilter">
                        {{fromDate | date: "MMM d " }}-{{toDate | date: "MMM d " }}
                        <mat-icon (click)="contentLoaded=false;isDateFilter=!isDateFilter;programFilter()">cancel
                        </mat-icon>
                    </button>
                    <!-- <button class="btn_style save_btn cursor" *ngIf="isMapFilter">
                        {{activitiesCount}} activities found in map area
                        <mat-icon (click)="contentLoaded=false;isMapFilter=!isMapFilter;programFilter()">cancel
                        </mat-icon>
                    </button> -->
                    <!-- <button class="btn_style save_btn cursor" *ngIf="isTopFilterCheckBox">
                        Top Rated
                        <mat-icon
                            (click)="contentLoaded=false;isTopFilterCheckBox=false;isTopFilter=false;programFilter()">
                            cancel</mat-icon>
                    </button> -->
                    <button class="btn_style save_btn cursor" *ngFor="let day of this.selectedDays;index as i">
                        {{day}}
                        <mat-icon (click)="removeRecentSearches('days',i)" class="ml-2">cancel</mat-icon>
                    </button>
                    <button class="btn_style save_btn cursor" *ngFor="let type of this.selectedProgramTypes;index as i">
                        {{type}}
                        <mat-icon (click)="removeRecentSearches('types',i)" class="ml-2">cancel</mat-icon>
                    </button>
                    <button class="btn_style save_btn cursor" *ngFor="let time of this.selectedProgramTime;index as i">
                        {{time}}
                        <mat-icon (click)="removeRecentSearches('times',i)" class="ml-2">cancel</mat-icon>
                    </button>
                    <span>
                        <a class="ml-2 clear-text cursor" (click)="resetFilter()">Clear all</a>
                    </span>
                </div>
            </div>
            <div class="col-2" [hidden]="isMap || isOnline">
                <div class="chip-set-bar btn-show-map-right">
                    <button (click)="isMap=!isMap;" class="btn-show-map"><img src="assets/show-map-icon.png"
                            class="gis-map-icon"> Show map</button>
                </div>
            </div>

        </div>

        <!-- start    providerprogram list  -->
        <div class="row row-0 borderserach" *ngIf="!isOnline">
            <div class="col-md-6 list_left" [ngClass]="{'col-md-12':!isMap}">
                <div class="search-results" infiniteScroll [infiniteScrollDisabled]="isInfiniteScrollDisabled"
                    [infiniteScrollDistance]="0.1" [infiniteScrollThrottle]="50" (scrolled)="onScroll()"
                    [scrollWindow]="false">
                    <div class="search-results-section"
                        *ngFor="let provider of providerProgram; let providerIndx = index">
                        <div class="media-top-content-info media-full-row-info">
                            <div class="row row-0 mt-0">
                                <div class="col-md-4">
                                    <div class="media-top-txt-div">
                                        <div class="left-icon-img">
                                            <img src="{{baseUrl+provider?.categories[0]?.logoUrl}}" />
                                        </div>
                                        <div class="left-icon-h2 map-with-heading-h2">
                                            <h2>{{provider.user[0].firstName}}</h2>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="media-top-txt-div">
                                        <div class="review-starsearch-info"
                                            (mouseover)="isRating=true;$event.target.click()"
                                            (mouseout)="isRating=false;$event.target.click()"
                                            (click)="getRating(provider._id,providerIndx)" class="cursor">

                                            <div class="rating-starsearch">
                                                <p>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==0">
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==1">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span
                                                        *ngIf="provider.user[0]?.averageFinalRating>1 && provider.user[0]?.averageFinalRating<2">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==2">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span
                                                        *ngIf="provider.user[0]?.averageFinalRating>2 && provider.user[0]?.averageFinalRating<3">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==3">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span
                                                        *ngIf="provider.user[0]?.averageFinalRating>3 && provider.user[0]?.averageFinalRating<4">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==4">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span
                                                        *ngIf="provider.user[0]?.averageFinalRating>4 && provider.user[0]?.averageFinalRating<5">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                    </span>
                                                    <span *ngIf="provider.user[0]?.averageFinalRating==5">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                    </span>
                                                    <span class="no-underline">(</span><a class="no-underline"
                                                        *ngIf="provider.user[0]?.totalReviews">{{provider.user[0]?.totalReviews
                                                        }}</a>
                                                    <a class="no-underline"
                                                        *ngIf="!provider.user[0]?.totalReviews">0</a><span
                                                        class="no-underline">)</span>
                                                </p>
                                            </div>

                                            <div *ngIf="providerProgram[providerIndx]?.isCollapsed" class="star-daialogbox"
                                                >
                                                <!-- <button type="button" data-toggle="collapse"
                                                    class="close star-daialogicon" aria-label="Close">
                                                    <span aria-hidden="true"><img src="assets/grey-close.png" /></span>
                                                </button> -->
                                                <app-rating *ngIf="providerProgram[providerIndx]?.rating" [rating]="providerProgram[providerIndx]?.rating" [user]="provider.user[0]">
                                                </app-rating>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-md-2 ">
                                    <div class="media-top-txt-div justify-content-right">
                                        <div class="view-less-div">
                                            <div class="view-less-txt-info collapsed">
                                                <a *ngIf="provider.collapsed" class="btn-view-less"
                                                    (click)="provider.collapsed=false" aria-expanded="false"
                                                    aria-controls="collapseDosing">View More <i
                                                        class="fas fa-chevron-down"></i></a>
                                                <a *ngIf="!provider.collapsed" class="btn-view-less"
                                                    (click)="provider.collapsed=true" aria-expanded="false"
                                                    aria-controls="collapseDosing">View Less <i
                                                        class="fas fa-chevron-up"></i></a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 ">
                                    <div class="media-share-icon">
                                        <ul class="ul-tag-share_icon">
                                            <li><a class="cursor" data-toggle="modal" data-target="#ShareModal"
                                                    (click)="selectedShareData = provider"><img
                                                        src="assets/save-blue-icon.svg" /></a></li>
                                            <li>
                                                <a *ngIf="provider?.isFav && parentRole && isLogin"
                                                    (click)="saveUnsaveProvider(providerIndx,false)" class="cursor"><img
                                                        src="assets/bookmark-active.svg" /></a>
                                                <a *ngIf="!provider?.isFav && parentRole && isLogin"
                                                    (click)="saveUnsaveProvider(providerIndx,true)" class="cursor"><img
                                                        src="assets/share-blue-icon.svg" /></a>
                                                <a *ngIf="!isLogin" class="cursor" routerLink="/login"><img
                                                        src="assets/share-blue-icon.svg" /></a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>


                        </div>
                        <!-- --------------------------------------------------Programs list second without map--------------------------------------------------- -->
                        <div [id]="'programDiv'+providerIndx" class="map-carousel-slider"
                            aria-labelledby="heading-dosing"
                            [ngClass]="{'collapse': providerProgram[providerIndx].collapsed, 'collapsed': !providerProgram[providerIndx].collapsed}">
                            <div class="left-resourcebtn"
                                *ngIf="isMap?provider?.programs?.length>2:provider?.programs?.length>6">
                                <a>
                                    <div class="carousel-nav-icon" (click)="scrollLeft(providerIndx)">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"
                                            xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <path
                                                d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z" />
                                        </svg>
                                    </div>
                                </a>
                            </div>
                            <div [id]="'widgetsContent'+providerIndx" class="media-scroable">
                                <div *ngFor="let program of activitySorting(provider?.programs) | slice:0:9; let programIndx = index"
                                    class="media activity">
                                    <div class="media-left activity-imgs" (click)="goToProgramDetail(program)">
                                        <!-- <img [defaultImage]="defaultImage"
                                            [errorImage]="baseUrl + program?.category[0]?.pattern"
                                            [lazyLoad]="baseUrl + program?.subCategoryIds[0]?.pattern" /> -->
                                        <!-- <img *ngIf="program?.category[0]?.pattern && !program?.subCategoryIds[0]?.pattern" [defaultImage]="defaultImage" [lazyLoad]="baseUrl + program?.category[0]?.pattern" /> -->
                                    </div>
                                    <div class="media-body">
                                        <div class="media-right-icon-h2">
                                            <div>
                                                <div class="tooltip-div">
                                                    <h2>
                                                        <a (click)="addAction(program?._id)" style="color:#53B2E8;" class="cursor" routerLink="{{goToProgramDetail(program)}}"> {{ program?.name }}</a>
                                                        <span class="tooltip-text">{{program?.name}}</span>
                                                    </h2>
                                                </div>
                                            </div>
                                            <div class="media-right-share-icon text-right">
                                                <a data-toggle="modal" (click)="selectedShareData = program"
                                                    data-target="#ShareModal" class="cursor display-none">
                                                    <!-- <img src="assets/share_gray.svg " class="section1"
                                                        joyrideStep="secondStep{{providerIndx}}"
                                                        title="ðŸ’¡ Share with friends and family"
                                                        text="Click here to share your favorite activities!"
                                                        alt="Share Icon " /> -->
                                                    <img src="assets/share-blue-icon.svg" alt="Share Icon " />
                                                </a>
                                                <div class="bookmark_outer">
                                                    <a *ngIf="!program?.isFav && isLogin"
                                                        (click)="addFavProgram(userData.id, providerProgram[providerIndx]?.programs[programIndx]?._id, providerIndx,programIndx)"
                                                        class="bookmark_icon cursor"><img
                                                            src="assets/share-blue-icon.svg" alt="Menu Image "
                                                            joyrideStep="thirdStep{{providerIndx}}{{programIndx}}"
                                                            title="ðŸ’¡ Save activities for later"
                                                            text="Click here to save your favorite activities all in one place for when you need them!" /></a>

                                                    <a *ngIf="!isLogin" routerLink="/login"
                                                        class="bookmark_icon cursor"><img
                                                            src="assets/share-blue-icon.svg" alt="Menu Image " /></a>

                                                    <a *ngIf="program?.isFav && parentRole && isLogin"
                                                        (click)="deleteFavProgram(providerProgram[providerIndx]?.programs[programIndx]?._id, providerIndx,programIndx)"
                                                        class="bookmark_icon cursor"><img
                                                            src="assets/bookmark-active.svg" alt="Menu Image " /></a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list_outer row row-0">
                                            <div class="list col-12 mt-2 mb-1">
                                                <p>by {{ program?.programOwner }}</p>
                                            </div>
                                            <!-- <div class="rating-starsearch">
                                                <p (click)=" getRating(program); programOwnerData.firstName = program?.programOwner
                        " class="cursor" data-toggle="collapse" [attr.data-target]="'#collapseExamplestar' + providerIndx"
                                                    role="button" aria-expanded="false"
                                                    aria-controls="collapseExamplestar">
                                                    <span *ngIf="program?.averageFinalRating == 0">
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="program?.averageFinalRating == 1">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="
                            program?.averageFinalRating > 1 &&
                            program?.averageFinalRating < 2
                          ">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="program?.averageFinalRating == 2">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="
                            program?.averageFinalRating > 2 &&
                            program?.averageFinalRating < 3
                          ">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="program?.averageFinalRating == 3">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="
                            program?.averageFinalRating > 3 &&
                            program?.averageFinalRating < 4
                          ">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="program?.averageFinalRating == 4">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-o"></span>
                                                    </span>
                                                    <span *ngIf="
                            program?.averageFinalRating > 4 &&
                            program?.averageFinalRating < 5
                          ">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star-half-o checked"></span>
                                                    </span>
                                                    <span *ngIf="program?.averageFinalRating == 5">
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                        <span class="fa fa-star checked"></span>
                                                    </span>
                                                    <span class="no-underline">(</span><a
                                                        *ngIf="program?.totalReviews">{{program?.totalReviews }}
                                                        reviews</a>
                                                    <a *ngIf="!program?.totalReviews">0 reviews</a><span
                                                        class="no-underline">)</span>
                                                </p>
                                                <div *ngIf="rating" class="collapse star-daialogbox"
                                                    id="collapseExamplestar{{ providerIndx }}">
                                                    <button type="button" data-toggle="collapse"
                                                        [attr.data-target]="'#collapseExamplestar' + providerIndx"
                                                        class="close star-daialogicon" aria-label="Close">
                                                        <span aria-hidden="true"><img
                                                                src="assets/grey-close.png" /></span>
                                                    </button>
                                                    <app-rating [rating]="rating" [user]="programOwnerData">
                                                    </app-rating>
                                                </div>
                                            </div> -->
                                            <!-- <div class="coding_text">
                                                <div *ngIf="program?.subCategoryIds?.length || program?.category?.length"
                                                    class="coding-text-1">
                                                    <h3 class="cursor" *ngFor="
                            let cat of program?.category"
                                                        (click)="selectedCat='';categoryId='';selectedSubCategories=[];subCats=[];searchedSubCategory=cat?.name; categoryId = cat._id;programFilter() ">
                                                        {{ cat?.name }}
                                                    </h3>
                                                    <h3 class="cursor" *ngFor="
                            let subCat of program?.subCategoryIds | slice: 0:2
                          " (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat?._id;programFilter() ">
                                                        {{ subCat?.name }}
                                                    </h3>
                                                    <h6 *ngIf="program?.subCategoryIds?.length > 2" class=""
                                                        data-toggle="collapse" href="#morecategories"
                                                        [attr.data-target]="'#morecategories' + i">
                                                        +{{ program?.subCategoryIds?.length - 2 }} more
                                                        <div class="collapse main_collpases verification_modal"
                                                            id="morecategories{{ i }}" data-parent="#accordionExample">
                                                            <div class="collpase_content">
                                                                <div class="categories-content">
                                                                    <span><img src="assets/grey-close.png" /> </span>
                                                                    <h5 *ngFor="
                                    let subCat of program?.subCategoryIds
                                      | slice: 2:program?.subCategoryIds?.length
                                  " class="collapse-btn cursor" (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat._id;programFilter() ">
                                                                        {{ subCat?.name }}
                                                                    </h5>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </h6>
                                                </div>
                                            </div> -->
                                            <div class="col-md-12" *ngIf="program?.inpersonOrVirtual=='Virtual'">
                                                <div class="without-location-online-btn">
                                                    <button class="loc-without-online">Online</button>
                                                </div>
                                            </div>
                                            <div class="col-md-12" *ngIf="program?.inpersonOrVirtual=='Inperson'">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/location-dark-icon.png" alt="location-icon" />
                                                    </div>
                                                    <div>
                                                        <p>{{program?.location?.substring(0,
                                                            program?.location?.indexOf(", "))}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/calender-icon-img1.png" alt="calender-icon" />
                                                    </div>
                                                    <div>
                                                        <p *ngIf="!program?.isDateNotMention">{{program?.date?.from |
                                                            date:"EEE, MMM dd"}} - {{program?.date?.to | date:"MMM dd"}}
                                                        </p>
                                                        <p *ngIf="program?.isDateNotMention">Ongoing</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/watch-icon-img.png" alt="calender-icon" />
                                                    </div>
                                                    <div>
                                                        <p *ngIf="!program?.isTimeNotMention">
                                                            {{globalFunc.tools_replaceAll(program?.time?.from?.toFixed(2)?.toString(),".",":"
                                                            )}} â€“
                                                            {{globalFunc.tools_replaceAll(program?.time?.to?.toFixed(2)?.toString(),".",":"
                                                            )}}</p>
                                                        <p *ngIf="program?.isTimeNotMention">Time not mentioned</p>

                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/user-icon-img.png" alt="School image " />
                                                    </div>
                                                    <div>
                                                        <p>{{ program?.ageGroup?.from + "-" + program?.ageGroup?.to }}
                                                            Yrs</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div *ngIf="(!program?.isFree && program?.pricePerParticipant)|| (program?.isFree && !program?.pricePerParticipant)"
                                                    class="price-box left-icon-box-media">
                                                    <div><img src="assets/price-doller-icon.png" /></div>
                                                    <div>
                                                        <p *ngIf="!program?.isFree && program?.pricePerParticipant">
                                                            <span>{{
                                                                program.pricePerParticipant
                                                                }}<span *ngIf="program?.pricePeriod?.periodAmount">/{{
                                                                    program?.pricePeriod?.periodAmount
                                                                    }}</span></span>
                                                        </p>
                                                        <p *ngIf="program?.isFree && !program?.pricePerParticipant"><img
                                                                src="assets/price.svg" /><span> Free</span></p>
                                                        <!-- <p *ngIf="!program?.isFree && !program?.pricePerParticipant"><img src="assets/price.svg" /><span> Price Not Mentioned</span></p> -->
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12 display-none">
                                                <p *ngIf="!program?.isDateNotMention">
                                                    <img src="assets/calendar.svg " alt="School image " />{{
                                                    program?.date?.from | date: "MMM dd" }} â€“ {{ program?.date?.to |
                                                    date:
                                                    "MMM dd" }}
                                                </p>
                                                <p *ngIf="program?.isDateNotMention">
                                                    Ongoing
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                </div>


                                <!-- --------------------------------------------------Programs list second--------------------------------------------------- -->
                                <!-- <div *ngFor="let program of programs | slice:6; let i = index" class="media activity">
                            <div class="media-left activity-imgs" (click)="goToProgramDetail(program)">
                                <img [defaultImage]="defaultImage" [errorImage]="baseUrl + program?.category[0]?.pattern" [lazyLoad]="baseUrl + program?.subCategoryIds[0]?.pattern" />
                            </div>
                            <div class="media-body">
                                <div class="share_icon">
                                    <a data-toggle="modal" (click)="selectedProgram = program" data-target="#ShareModal" class="cursor">
                                        <img src="assets/share_gray.svg "  alt="Share Icon " />
                                    </a>
                                    <div class="bookmark_outer">
                                        <a *ngIf="!program?.isFav && parentRole && isLogin" (click)="addFavProgram(userData.id, program?._id, i+6)" class="bookmark_icon cursor"><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>

                                        <a *ngIf="!isLogin" routerLink="/login" class="bookmark_icon cursor"><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>

                                        <a *ngIf="program?.isFav && parentRole && isLogin" (click)="deleteFavProgram(program?._id, i+6)" class="bookmark_icon cursor"><img src="assets/bookmarkOrange.png " alt="Menu Image " /></a>
                                    </div>
                                </div>
                                <h2 class="cursor" (click)="goToProgramDetail(program)">
                                    {{ program?.name }}
                                </h2>
                                <div class="list_outer row row-0">
                                    <div class="list col-12 mt-2 mb-1">
                                        <p>by {{ program?.programOwner }}</p>
                                    </div>
                                    <div class="rating-starsearch">
                                        <p (click)="
                          getRating(program);
                          programOwnerData.firstName = program?.programOwner
                        " class="cursor" data-toggle="collapse" [attr.data-target]="'#collapseExamplestar' + i" role="button" aria-expanded="false" aria-controls="collapseExamplestar">
                                            <span *ngIf="program?.averageFinalRating == 0">
                          <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 1">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 1 &&
                            program?.averageFinalRating < 2
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 2">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 2 &&
                            program?.averageFinalRating < 3
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 3">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 3 &&
                            program?.averageFinalRating < 4
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 4">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 4 &&
                            program?.averageFinalRating < 5
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 5">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            </span>
                                            <span class="no-underline">(</span><a *ngIf="program?.totalReviews">{{program?.totalReviews }} reviews</a>
                                            <a *ngIf="!program?.totalReviews">0 reviews</a><span class="no-underline">)</span>
                                        </p>
                                        <div *ngIf="rating" class="collapse star-daialogbox" id="collapseExamplestar{{ i }}">
                                            <button type="button" data-toggle="collapse" [attr.data-target]="'#collapseExamplestar' + i" class="close star-daialogicon" aria-label="Close">
                          <span aria-hidden="true"><img src="assets/grey-close.png" /></span>
                        </button>
                                            <app-rating [rating]="rating" [user]="programOwnerData"></app-rating>
                                        </div>
                                    </div>
                                    <div class="coding_text">
                                        <div *ngIf="program?.subCategoryIds?.length || program?.category?.length" class="coding-text-1">
                                            <h3 class="cursor" *ngFor="
                            let cat of program?.category" (click)="selectedCat='';categoryId='';selectedSubCategories=[];subCats=[];searchedSubCategory=cat?.name; categoryId = cat._id;programFilter() ">
                                                {{ cat?.name }}
                                            </h3>
                                            <h3 class="cursor" *ngFor="
                            let subCat of program?.subCategoryIds | slice: 0:2
                          " (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat?._id;programFilter() ">
                                                {{ subCat?.name }}
                                            </h3>
                                            <h6 *ngIf="program?.subCategoryIds?.length > 2" class="" data-toggle="collapse" href="#morecategories" [attr.data-target]="'#morecategories' + i">
                                                +{{ program?.subCategoryIds?.length - 2 }} more
                                                <div class="collapse main_collpases verification_modal" id="morecategories{{ i }}" data-parent="#accordionExample">
                                                    <div class="collpase_content">
                                                        <div class="categories-content">
                                                            <span><img src="assets/grey-close.png" /> </span>
                                                            <h5 *ngFor="
                                    let subCat of program?.subCategoryIds
                                      | slice: 2:program?.subCategoryIds?.length
                                  " class="collapse-btn cursor" (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat._id;programFilter() ">
                                                                {{ subCat?.name }}
                                                            </h5>
                                                        </div>
                                                    </div>
                                                </div>
                                            </h6>
                                        </div>
                                    </div>

                                    <div class="list col-md-4">
                                        <p>
                                            <img src="assets/user_group.svg " alt="School image " />{{ program?.ageGroup?.from + "-" + program?.ageGroup?.to }} Yrs
                                        </p>
                                    </div>
                                    <div class="list col-md-6">
                                        <p *ngIf="!program?.isDateNotMention">
                                            <img src="assets/calendar.svg " alt="School image " />{{ program?.date?.from | date: "MMM d " }} â€“ {{ program?.date?.to | date: "MMM d " }}
                                        </p>
                                        <p *ngIf="program?.isDateNotMention">
                                            Ongoing
                                        </p>
                                    </div>
                                </div>
                                <div class="price-box">
                                    <p *ngIf="!program?.isFree && program?.pricePerParticipant">
                                        <span><img src="assets/price.svg" />{{
                        program.pricePerParticipant
                        }}<span *ngIf="program?.pricePeriod?.periodAmount">/{{ program?.pricePeriod?.periodAmount
                          }}</span></span>
                                    </p>
                                    <p *ngIf="program?.isFree && !program?.pricePerParticipant"><img src="assets/price.svg" /><span> Free</span></p>
                                    <p *ngIf="!program?.isFree && !program?.pricePerParticipant"><img src="assets/price.svg" /><span> Price Not Mentioned</span></p>
                                </div>
                                <div class="rating_box">

                                </div>
                            </div>
                        </div> -->
                            </div>
                            <div class="right-resourcebtn"
                                *ngIf="isMap?provider?.programs?.length>2:provider?.programs?.length>6">
                                <a>
                                    <div class="carousel-nav-icon" (click)="scrollRight(providerIndx)">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129"
                                            xmlns:xlink="http://www.w3.org/1999/xlink">
                                            <path
                                                d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z" />
                                        </svg>
                                    </div>
                                </a>
                            </div>
                            <!-- <div class="show-all-program-btn cursor" *ngIf="provider?.programs?.length>1">
                                <a class="btn-show-all-program"
                                    (click)="goToProviderProfile(provider.user[0],'activities')">Show all Activities</a>
                            </div> -->
                        </div>
                        <!-- --------------------------------------------------Programs list first without map--------------------------------------------------- -->
                    </div>


                    <div *ngIf="!providerProgram?.length && isLoaded" class="suggested-searchresult">
                        <div class="suggested-text">
                            <h1>Sorry no results found :(</h1>
                            <!-- <h2>
                                Do you want to search <span class="cursor" (click)="categoryId='60b4752fbb70a952280bfa74';searchedSubCategory='Dance';programFilter()">Dance</span> or
                                <span class="cursor" (click)="categoryId='60b47547bb70a952280bfa75';searchedSubCategory='Music';programFilter()">Music</span> instead
                            </h2> -->
                        </div>

                        <!-- <div class="suggested-result"
                            *ngIf="suggested?.length && (!isTypeFilter && !isDaysFilter && !isTimeFilter && !isTopFilter && !isAgeFilter && !isDateFilter)">
                            <h3 class="suggested-searcxhtext">
                                You might want to explore similar Categories
                            </h3>
                            <div class="similar-categories container">
                                <div class="row">
                                    <div class="col-md-4 cursor" *ngFor="let subCategory of suggested" (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCategory?.name; selectedSubCategories[0] = subCategory?.id;
                                    programFilter()">
                                        <div class="similar-cate">
                                            <img [defaultImage]="defaultImage" [lazyLoad]="subCategory?.iconUrl" />
                                            <h1>{{ subCategory?.name }}</h1>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div> -->






                    </div>

                    <!-- footer start -->
                    <footer style="background-color:#fff;">
                        <div class="container">
                            <div class="footer_inner">
                                <div class="row">
                                    <div class="col-12">
                                        <div class="footer_logo">
                                            <a>
                                                <img src="assets/newlogo.png" alt="Logo" />
                                            </a>
                                        </div>
                                        <div class="footer_menu">
                                            <ul>
                                                <li class="cursor">
                                                    <a [routerLink]="['/about-wondrfly']"> About Us</a>
                                                </li>
                                                <li class="cursor">
                                                    <a [routerLink]="['/blogs']">Blog</a>
                                                </li>
                                                <li class="cursor">
                                                    <a [routerLink]="['/faq']">FAQ</a>
                                                </li>
                                                <!-- <li class="cursor">
                                  <a [routerLink]="['/ambassador-policy']">Ambassador</a>
                                </li> -->
                                                <li class="cursor">
                                                    <a [routerLink]="['/term-condition']">Terms of use</a>
                                                </li>
                                                <li class="cursor">
                                                    <a [routerLink]="['/privacy-policy']">Privacy Policy</a>
                                                </li>
                                                <li class="cursor">
                                                    <a [routerLink]="['/contactUs']">Contact Us</a>
                                                </li>
                                            </ul>
                                        </div>

                                        <div class="copyright_text">
                                            <p>Â© {{currentYear}} Wondrfly Inc. All Rights Reserved.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </footer>

                    <!-- footer end  -->
                </div>



                <!-- <div *ngIf="suggested?.length && contentLoaded && programs?.length" class="suggested-searchresult">
                    <div class="suggested-result suggested-text in-built">
                        <h3>You might want to explore similar Categories</h3>
                        <div class="similar-categories container">
                            <div class="row">
                                <div class="col-md-4 cursor" *ngFor="let subCategory of suggested" (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCategory.name; selectedSubCategories[0] = subCategory.id;
                    programFilter()
                  ">
                                    <div class="similar-cate">
                                        <img src="assets/similarcategories1.png">
                                        <img [defaultImage]="defaultImage" [lazyLoad]="subCategory?.iconUrl" />
                                        <h1>{{ subCategory?.name }}</h1>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> -->



                <!-- <main class="page" *ngIf="!contentLoaded">
                    Title
                    Content
                    <div class="page-content" *ngFor="let i of fakeLoaderData">
                        Placeholder Content
                        <div class="placeholder-content">
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                            <div class="placeholder-content_item"></div>
                        </div>

                    </div>
                </main> -->



            </div>
            <div class="col-md-6" *ngIf="isMap">
                <div class="map_section">
                    <div class="map-search-info">
                        <label class="map-search-checkbox-field">
                            <input type="checkbox" [class.] [checked]="isMapMoveChecked" (change)="isMapMoveChecked=!isMapMoveChecked">
                            <span class="checkmark"></span>
                            <span class="checkbox-txt">Search as I move the Map</span>
                        </label>
                    </div>
                    <div class="btn-hide-up-info">
                        <button class="btn-hide-up" (click)="isMap=!isMap"><img class="gis-map-icon"
                                src="assets/gis_map.png" /> Hide map <img class="right-arrow-icon"
                                src="assets/right-arrow-icon.png" /></button>
                    </div>
                    <agm-map *ngIf="providerProgram?.length; else nolocationfound" [styles]="mapTheme.customStyle"
                        style="width: 100%; height: 100%" (centerChange)="centerChange($event)" [zoom]="zoom"
                        [usePanning]="true" [fitBounds]="true" [latitude]="lat" [longitude]="lng"
                        (mapClick)="mapClicked(previous)">
                        <div *ngFor="let data of providerProgram;let providerIndx = index">
                            <agm-marker *ngIf="data.user[0]?.lat && data?.user[0]?.lng" [iconUrl]="markerUrl"
                                (markerClick)="clickedMarker(previous)" [latitude]="data?.user[0]?.lat"
                                [longitude]="data?.user[0]?.lng" [agmFitBounds]="true">
                                <agm-info-window #previous>
                                    <div class="map-popup">
                                        <h1>
                                            {{ data?.user[0]?.firstName }}
                                        </h1>
                                        <h2>{{ data?.user[0]?.addressLine1 }}</h2>
                                        <div class="rating-starsearch" class="cursor" >
                                            <p>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==0">
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==1">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span
                                                    *ngIf="data?.user[0]?.averageFinalRating>1 && data?.user[0]?.averageFinalRating<2">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-half-o checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==2">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span
                                                    *ngIf="data?.user[0]?.averageFinalRating>2 && data?.user[0]?.averageFinalRating<3">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-half-o checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==3">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span
                                                    *ngIf="data?.user[0]?.averageFinalRating>3 && data?.user[0]?.averageFinalRating<4">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-half-o checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==4">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-o"></span>
                                                </span>
                                                <span
                                                    *ngIf="data?.user[0]?.averageFinalRating>4 && data?.user[0]?.averageFinalRating<5">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star-half-o checked"></span>
                                                </span>
                                                <span *ngIf="data?.user[0]?.averageFinalRating==5">
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                    <span class="fa fa-star checked"></span>
                                                </span>
                                                <span class="no-underline">(</span><a class="no-underline"
                                                    *ngIf="data.user[0]?.totalReviews">{{data.user[0]?.totalReviews
                                                    }}</a>
                                                <a class="no-underline" *ngIf="!data.user[0]?.totalReviews">0</a><span
                                                    class="no-underline">)</span>
                                            </p>
                                        </div>
                                        <div class="map-locationtext" *ngIf="data?.user[0]?.location">
                                            <span><img src="assets/location-pintag.svg" /> </span>
                                            <h3>
                                                {{ data?.user[0]?.location }}
                                            </h3>
                                        </div>
                                        <!-- <button (click)="goToProviderProfile(data?.user[0])" class="map-buttonas">
                                            View
                                        </button> -->
                                    </div>
                                    <!-- {{data?.user[0]?.firstName}} -->
                                </agm-info-window>
                            </agm-marker>
                        </div>
                    </agm-map>
                    <!-- ------------------------ no programs location ------------ -->
                    <ng-template #nolocationfound>
                        <agm-map style="width: 100%; height: 100%" (centerChange)="centerChange($event)"  [styles]="mapTheme.customStyle" [zoom]="14"
                            [latitude]="40.72652470735903" [longitude]="-74.05900394007715">
                        </agm-map>
                    </ng-template>
                    <!-- ---------------------------------------------------------- -->

                </div>
            </div>
        </div>
        <!-- end    provider program list  -->

        <!-- start online programs  -->
        <div *ngIf="isOnline && showReset">
            <online-programs [provider_programs]="providerProgram" [categories]="categories" [suggested]="suggested">
            </online-programs>
        </div>
        <!-- end online programs  -->

    </div>
</section>

<share-popup [shareData]="selectedShareData" [isProvider]="true"></share-popup>
<app-footer2 *ngIf="isOnline"></app-footer2>
<!-- <div data-toggle="modal" data-target="#Exploring-Wonderfly" id='exploreModal'></div>
<div class="modal fade" id="Exploring-Wonderfly" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-tour">
                <img class="tour-img1" src="assets/tourside-1.png">
                <img class="tour-img2" src="assets/tourside-2.png">
            </div>
            <div class="modal-body">
                <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                    <ol class="carousel-indicators">
                        <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        <li style="visibility:hidden;"></li>
                        <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                    </ol>
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <h1>Start exploring Wondrfly now!</h1>
                            <img class="exploring-img" src="assets/tour-1.png" alt="First slide">
                            <div class="carousel-caption">
                                <h5>Use filters for better results</h5>
                                <p>Filter activities by category, age range, date and time, <br> price, and more!.</p>
                            </div>
                        </div>
                
                        <div class="carousel-item">
                            <div class="upto_date">
                                <div class="got-newsletter">
                                    <h2 class="title">Get our Newsletter</h2>
                                    <p>
                                        Stay up to date on the best promotions,<br> parenting tips, and news about kidsâ€™
                                        activities.
                                    </p>
                                    <mailchimp-subscribe-form></mailchimp-subscribe-form>

                                    <button class="done-btn" data-dismiss="modal" (click)="mailChimpCompleted()">
                                        DONE!
                                    </button>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div> -->
<ngx-ui-loader [fgsTemplate]="foregroundSpinner" fgsSize="190" bgsSize="190"> </ngx-ui-loader>
<ng-template #foregroundSpinner>
    <app-loader-file></app-loader-file>
</ng-template>