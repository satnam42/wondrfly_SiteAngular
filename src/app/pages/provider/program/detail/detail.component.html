<body>
    <app-header2 *ngIf="!isLogin"></app-header2>
    <app-header *ngIf="isLogin"></app-header>
    <section class="main_outer common-headermargin">
        <div class="program_outer">
            <div class="container">
                <div class="row">
                    <div class="col-12">
                        <div id="bannerimage"  [ngStyle]="{
                            background: 'url(' + bannerImages[bannerIndx] + ')'
                          }">
                            <img id="bannerimage" *ngIf="programImgURL" src="{{ programImgURL }}" />
                        </div>
                        <label class="banner-icon cursor">
              <input style="display: none" type="file" id="file" accept="image/*" name="img_logo" class="dropzone"
                *ngIf="program?.user === this.userId" />
              <button class="uploadbanner" type="button" *ngIf="program?.user === this.userId"
                onclick="document.getElementById('file').click();">
                ADD PHOTOS
              </button>
            </label>
                    </div>
                </div>

                <div class="program_text">
                    <div class="row">
                        <div class="col-12">
                            <div class="CategoryText">
                                <div class="session_details">
                                    <div class="row row-0">
                                        <div class="col-md-2">
                                            <div *ngIf="program?.name" class="learn_code cursor" (click)="goToProfile()" [class.initial-alpha-profile]="!program?.subCategoryIds[0]?.logo && !program?.category[0]?.logoUrl">
                                                <img *ngIf="program?.subCategoryIds[0]?.logo"[defaultImage]="defaultImage" lazyLoad="{{baseUrl+program?.subCategoryIds[0]?.logo }}" alt="logo" />
                                                <img *ngIf="program?.category[0]?.logoUrl && !program?.subCategoryIds[0]?.logo" [defaultImage]="defaultImage" lazyLoad="{{baseUrl+program?.category[0]?.logoUrl }}" alt="logo" />
                                                <h1 *ngIf="!program?.subCategoryIds[0]?.logo && !program?.category[0]?.logoUrl">
                                                    {{ program?.name?.charAt(0) + program?.name?.charAt(1) }}
                                                </h1>
                                            </div>
                                        </div>

                                        <div class="programText col-md-10">
                                            <h3>
                                                {{ program?.name }}
                                                <a align="right" class="cursor" data-toggle="modal" *ngIf="program?.user === this.userId" data-target="#UpdateModal">
                                                    <img src="assets/edit_skyblue.svg" alt="Edit Image" />
                                                </a>

                                                <button *ngIf="program.inpersonOrVirtual=='Virtual'" class="btn-style">Online</button>
                                            </h3>

                                            <div class="share_icon">
                                                <a data-toggle="modal" (click)="selectedProgram = program" data-target="#ShareModal" class="cursor">
                                                    <img src="assets/share_gray.svg " alt="Share Icon " />
                                                </a>
                                                <div class="bookmark_outer" *ngIf="userId && !providerRole">
                                                    <a class="bookmark_icon cursor" *ngIf="!program.isFav" (click)="addFav()">
                                                        <img src="assets/bookmark_gray.svg  " alt="Menu Image " /></a>

                                                    <a class="bookmark_icon cursor" *ngIf="program?.isFav" (click)="deleteFav()"><img src="assets/bookmarkOrange.png " alt="Menu Image " /></a>
                                                </div>
                                            </div>

                                            <h3 class="provider_name cursor">
                                                <span (click)="goToProfile()">{{
                          program?.programOwner
                          }}</span>

                                                <span class="rating-starsearch">
                          <p class="cursor" (mouseover)="isRating = true" (mouseout)="isRating = false">
                            <span *ngIf="
                                rating?.finalAverageRating == 0 ||
                                rating?.finalAverageRating == 'NaN' ||
                                rating?.finalAverageRating == undefined
                              ">
                              <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="rating?.finalAverageRating == 1">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="
                                rating?.finalAverageRating > 1 &&
                                rating?.finalAverageRating < 2
                              ">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-half-o checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="rating?.finalAverageRating == 2">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="
                                rating?.finalAverageRating > 2 &&
                                rating?.finalAverageRating < 3
                              ">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-half-o checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="rating?.finalAverageRating == 3">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="
                                rating?.finalAverageRating > 3 &&
                                rating?.finalAverageRating < 4">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-half-o checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="rating?.finalAverageRating == 4">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-o"></span>
                                                </span>
                                                <span *ngIf="
                                rating?.finalAverageRating > 4 &&
                                rating?.finalAverageRating < 5">

                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star-half-o checked"></span>
                                                </span>
                                                <span *ngIf="rating?.finalAverageRating == 5">
                              <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                <span class="fa fa-star checked"></span>
                                                </span>
                                                </p>
                                                <div class="star-daialogbox" *ngIf="isRating">
                                                    <app-rating [rating]="rating" [user]="user"></app-rating>
                                                </div>
                                                </span>
                                            </h3>
                                            <div class="programInfo">
                                                <p *ngIf="program.inpersonOrVirtual!='Virtual'">
                                                    <img src="assets/loction_pin.svg" alt="Location Pin" />{{ program?.location }}
                                                </p>
                                                <p *ngIf="program.inpersonOrVirtual=='Virtual' && program?.joiningLink">
                                                    <img src="assets/bi_link.svg" alt="Location Pin" /><a href="{{program?.joiningLink}}" target="_blank" rel="noopener">Join via Link</a>
                                                </p>
                                                <p *ngIf="!program?.isDateNotMention">
                                                    <img src="assets/calendar_orange.svg" alt="Calendar" />{{ program?.date?.from | date: "MMM d" }} - {{ program?.date?.to | date: "MMM d" }}
                                                </p>
                                                <p *ngIf="program?.isDateNotMention">
                                                    <img src="assets/calendar_orange.svg" alt="Calendar" />Ongoing
                                                </p>
                                                <p>
                                                    <img src="assets/user_group_orange.svg" alt="Calendar" /> {{ program?.ageGroup?.from }} - {{ program?.ageGroup?.to }} Yrs.
                                                </p>

                                                <p *ngIf="!program?.isTimeNotMention">
                                                    <img src="assets/watch.svg" alt="Loction Pin" /> {{ globalFunc.tools_replaceAll(program?.time?.from?.toFixed(2)?.toString(),".",":" )}} - {{ globalFunc.tools_replaceAll(program?.time?.to?.toFixed(2)?.toString(),".",":" )}}
                                                </p>
                                                <!-- <p *ngIf="program?.isTimeNotMention">
                                                    <img src="assets/watch.svg" alt="Loction Pin" /> Time Not Mention
                                                </p> -->
                                                <p *ngIf="
                            program?.duration?.hours || program?.duration?.minutes
                          ">
                                                    <img src="assets/timer.svg" alt="Loction Pin" />{{ program?.duration?.hours }} : {{ program?.duration?.minutes }} <span *ngIf="program?.duration?.hours">Hours</span><span *ngIf="!program?.duration?.hours">Minutes</span>
                                                </p>

                                                <p *ngIf="!program?.isFree && program?.pricePerParticipant">
                                                    <img src="assets/pricet.svg" alt="price tag" />{{program?.pricePerParticipant}}
                                                    <span *ngIf="program?.pricePeriod?.periodAmount">/{{ program?.pricePeriod?.periodAmount }}</span>
                                                </p>
                                                <p *ngIf="program?.isFree && !program?.pricePerParticipant">
                                                    <img src="assets/pricet.svg" alt="price tag" /> Free
                                                </p>
                                                <!-- <p *ngIf="!program?.isFree && !program?.pricePerParticipant">
                                                    <img src="assets/pricet.svg" alt="price tag" /> Price Not Mentioned
                                                </p> -->
                                            </div>
                                            <div id="cat-subcat">
                                                <button class="camp-btn" *ngFor="let cat of categoryArr; let i=index">
                          {{cat?.name}}
                        </button>
                                                <div *ngFor="let subcat of subcatArr | slice: 0:2">
                                                    <button class="camp-btn">
                            {{ subcat?.name}}
                          </button>
                                                </div>
                                                <p>
                                                    <button *ngIf="subcatArr?.length > 2" class="btn btn-primary moreBtn" type="button" data-toggle="collapse" data-target="#collapseExample" aria-expanded="false">
                            + {{subcatArr?.length - 2}} more
                          </button>
                                                </p>
                                                <div class="collapse" id="collapseExample">
                                                    <div class="card card-body" id="moreBtn-collapse">

                                                        <span id="closeBtn"><img src="assets/grey-close.png" data-toggle="collapse" data-target="#collapseExample" /> </span>
                                                        <div class="d-flex flex-wrap">
                                                            <h6 *ngFor="let subcat of subcatArr; let i=index">
                                                                <p id="moreBtn-collapse-cursor" *ngIf="i>1">{{subcat?.name}}</p>
                                                            </h6>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="batch_outer">
                    <div class="row">
                        <div class="col-md-8">
                            <!-- <div *ngIf="program?.sessions?.length" class="description_text">
                <h2>Session</h2>
                <div class="batchuter">
                  <div
                    *ngFor="let batch of program.sessions; let i = index"
                    class="batch_box"
                  >
                    <div class="batch_title">
                      <p>{{ batch.sessionName }}</p>
                    </div>
                    <div class="batch_list_outer">
                      <div class="batch_listing">
                        <label>Time</label>
                        <p>
                          {{ batch.sessionStartTime | date: "shortTime" }}–{{
                            batch.sessionEndTime | date: "shortTime"
                          }}
                        </p>
                      </div>
                      <div class="batch_listing">
                        <label>Dates</label>
                        <p>
                          {{ batch.sessionStartDate | date: "dd:MM:yyyy" }}–{{
                            batch.sessionEndDate | date: "dd:MM:yyyy"
                          }}
                        </p>
                      </div>
                      <div class="batch_listing">
                        <label>instructor</label>
                        <p>{{ batch.instructor }}</p>
                      </div>
                      <div class="batch_listing">
                        <label>number of seats</label>
                        <p>{{ batch.noOfSeats }}</p>
                      </div>
                      <div class="batch_listing">
                        <label>Location</label>
                        <p>{{ batch.sessionAddress }}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div> -->

                            <div class="description_text" *ngIf="program?.description">
                                <h2>Activity Description</h2>
                                <p>{{ program?.description }}</p>
                            </div>

                            <div class="description_text" *ngIf="
                  program?.bookingCancelledIn?.days &&
                  program?.bookingCancelledIn?.hours
                ">
                                <h2>Cancellation Policy</h2>
                                <p>
                                    <label>Booking can’t be cancelled before</label> {{ program?.bookingCancelledIn?.days }} days {{ program?.bookingCancelledIn?.hours }} Hours
                                </p>
                            </div>

                            <div class="description_text" *ngIf="program?.specialInstructions">
                                <h2>Special Instructions</h2>
                                <!-- <div class="special-groups">
                  <span><img src="assets/group-detail.svg" />Parent Assistance
                    required</span>
                  <span><img src="assets/mountain-detail.svg" />Outdoor</span>
                </div> -->
                                <p>{{ program?.specialInstructions }}</p>
                            </div>

                            <div class="people-block" *ngIf="program?.user !== this.userId">
                                <div class="description_text people_sectionn people_outer">
                                    <div align="right" class="cursor" *ngIf="program?.user === this.userId">
                                        <a data-toggle="modal" data-target="#providerUpdateModal">
                                            <img src="assets/edit_skyblue.svg" alt="Edit Image" />
                                        </a>
                                    </div>
                                    <h2>About us</h2>
                                    <div class="media">
                                        <!-- <div class="media-left">
                      <div class="people_profile" [class.initial-alpha]="!user?.avatarImages">
                        <a data-toggle="modal" data-target="#profileModal">
                          <img *ngIf="user?.avatarImages" src="{{ user?.avatarImages }}" alt="Profile" />
                          <h1 *ngIf="!user?.avatarImages" [class.initial-alpha]="!user?.avatarImages">
                            {{ user?.firstName?.charAt(0) + user?.firstName?.charAt(1) }}
                          </h1>
                        </a>
                      </div>
                      <h4>{{ user?.firstName }}</h4>
                    </div> -->
                                        <div class="media-body">
                                            <p>{{ user?.note }}</p>
                                            <div class="skills_sec" *ngIf="user?.subCategoryIds?.length">
                                                <h3>Activities</h3>
                                                <div class="skill_flex">
                                                <div class="skill_outer" *ngFor="let skill of user?.subCategoryIds">
                                                    <span>{{ skill?.name }}</span>
                                                </div>
                                            </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="batch_right map_provider" *ngIf="program?.user !== this.userId">
                                <div class="description_text">
                                    <h2>Company Information</h2>
                                    <div class="row align-items-center">
                                        <div class="col-md-12" *ngIf="user?.email">
                                            <div class="media company_info align-items-center">
                                                <div class="media-left">
                                                    <span class="icon icon-envelope"></span>
                                                </div>
                                                <div class="media-body">
                                                    <h4>Email</h4>
                                                    <p><a href="mailto:{{user.email}}">{{user?.email}}</a></p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12">
                                            <div class="media company_info align-items-center">
                                                <div class="media-left">
                                                    <span class="icon icon-phone-call"></span>
                                                </div>
                                                <div class="media-body">
                                                    <h4>Phone</h4>
                                                    <p>{{user?.phoneNumber}}</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12" *ngIf="user?.website">
                                            <div class="media company_info align-items-center mb-0">
                                                <div class="media-left">
                                                    <span class="icon icon-global"></span>
                                                </div>
                                                <div class="media-body">
                                                    <h4>WWW</h4>
                                                    <p><a class="clr-blue" href="{{user.website}}" target="_blank">{{user?.website}}</a></p>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- <div class="col-md-12">
                                            <div class="social-icons media company_info align-items-center">
                                                <a><span  class="icon"><img  src="assets/fb-123.png"></span></a>
                                                <a><span  class="icon"><img  src="assets/insta.png"></span></a>
                                                <a><span class="icon"><img  src="assets/linked_in.png"></span></a>
                                                <a><span class="icon"><img  src="assets/tweet.png"></span></a>
                                            </div>
                                        </div> -->
                                    </div>
                                </div>
                            </div>

                            <!-- <div class="description_text people_section" *ngIf="user?.healthAndSafety?.length">
                                            <img class="pencil-right" *ngIf="program.user === this.userId" src="assets/edit_skyblue.svg" />

                                            <div class="health-upper">
                                                <img src="assets/main-healthsafety.svg" />
                                                <span>Safety Measures</span>
                                                <img class="i-big" src="assets/healthsafetyi.svg" />
                                            </div>
                                            <div class="health-lower">
                                                <h1 *ngIf="user?.healthAndSafety[0]?.disposableMasksProvided">
                                                    ✓ <span>Disposable masks provided </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                  <h1 *ngIf="user?.healthAndSafety[0]?.qrCodeRegistration">
                    ✓ <span>QR Code Registration </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                  <h1
                    *ngIf="
                      user?.healthAndSafety[0]?.staffHealthAndHygieneProtocols
                    "
                  >
                    ✓ <span>staff Health And Hygiene Protocols </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                  <h1 *ngIf="user?.healthAndSafety[0]?.dailyEquipment">
                    ✓ <span>Daily Equipment </span
                    ><img class="i-small" src="assets/i-big.svg" />
                  </h1>
                  <h1 *ngIf="user?.healthAndSafety[0]?.sanitizerStations">
                    ✓ <span>Sanitizer Stations </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                  <h1 *ngIf="user?.healthAndSafety[0]?.limitedClassSizes">
                    ✓ <span>Limited Class Sizes </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                  <h1 *ngIf="user?.healthAndSafety[0]?.parentObservation">
                    ✓ <span>Parent Observation </span
                    ><img class="i-small" src="assets/healthsafetyi.svg" />
                  </h1>
                </div>
              </div> -->
                            <div class="batch_right map_provider">
                                <agm-map [latitude]="40.73614987717813" [longitude]="-74.04147784299793" (centerChange)="centerChange($event)" [zoom]="12" [zoomControl]="false" [streetViewControl]="false" (mapClick)="mapClicked(previous)">
                                    <div>
                                        <agm-marker *ngIf="program?.lat && program?.lng" [iconUrl]="markerUrl" [latitude]="program?.lat" [longitude]="program?.lng" (markerClick)="clickedMarker(previous)">
                                            <strong>{{ program?.name }}</strong>
                                            <agm-info-window #previous>
                                                <div class="map-popup">
                                                    <h1>
                                                        {{ program?.name }}
                                                    </h1>
                                                    <h2>by {{ program?.programOwner }}</h2>
                                                    <div class="rating-starsearch">
                                                        <p>
                                                            <span *ngIf="program?.averageFinalRating == 0">
                                <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="program?.averageFinalRating == 1">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="
                                  program?.averageFinalRating > 1 &&
                                  program?.averageFinalRating < 2
                                ">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-half-o checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="program?.averageFinalRating == 2">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="
                                  program?.averageFinalRating > 2 &&
                                  program?.averageFinalRating < 3
                                ">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-half-o checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="program?.averageFinalRating == 3">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="
                                  program?.averageFinalRating > 3 &&
                                  program?.averageFinalRating < 4
                                ">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-half-o checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="program?.averageFinalRating == 4">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-o"></span>
                                                            </span>
                                                            <span *ngIf="
                                  program?.averageFinalRating > 4 &&
                                  program?.averageFinalRating < 5
                                ">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star-half-o checked"></span>
                                                            </span>
                                                            <span *ngIf="program?.averageFinalRating == 5">
                                <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            <span class="fa fa-star checked"></span>
                                                            </span>
                                                            <a> <span></span>(58 reviews)</a>
                                                        </p>
                                                    </div>
                                                    <div class="map-locationtext">
                                                        <span><img src="assets/location-pintag.svg" />
                            </span>
                                                        <h3>
                                                            {{ program?.location }}
                                                        </h3>
                                                    </div>
                                                </div>
                                            </agm-info-window>
                                        </agm-marker>
                                    </div>
                                </agm-map>
                            </div>
                        </div>
                        <div class="col-12" *ngIf="program?.user === this.userId">
                            <div class="description_text people_section people_outer">
                                <h2>People <a>View all</a></h2>
                                <div class="people_list">
                                    <div class="col-md-4 list_box">
                                        <div class="media">
                                            <div class="media-body">
                                                <h4>{{ user?.firstName }}</h4>
                                                <!-- <h5>Kids land owner</h5> -->
                                            </div>
                                            <div class="media-left">
                                                <div class="people_profile" [class.initial-alpha]="!user?.avatarImages">
                                                    <img *ngIf="user?.avatarImages" src="{{ user?.avatarImages }}" alt="Profile" />
                                                    <!-- <img
                            *ngIf="!user?.avatarImages"
                            src="assets/gray_background.jpeg"
                            alt="Profile"
                          /> -->
                                                    <h1 *ngIf="!user?.avatarImages" [class.initial-alpha]="!user?.avatarImages">
                                                        {{ user?.firstName?.charAt(0) + user?.firstName?.charAt(1) }}
                                                    </h1>
                                                </div>
                                            </div>
                                        </div>
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.
                                        </p>
                                    </div>

                                    <div class="col-md-4 list_box">
                                        <div class="media">
                                            <div class="media-body">
                                                <h4>{{ user?.firstName }}</h4>
                                            </div>
                                            <div class="media-left">
                                                <div class="people_profile">
                                                    <img *ngIf="user?.avatarImages" src="{{ user?.avatarImages }}" alt="Profile" />
                                                    <img *ngIf="!user?.avatarImages" src="assets/otheruser.jpeg" alt="Profile" />
                                                </div>
                                            </div>
                                        </div>
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.
                                        </p>
                                    </div>

                                    <div class="col-md-4 list_box">
                                        <div class="media">
                                            <div class="media-body">
                                                <h4>{{ user?.firstName }}</h4>
                                            </div>
                                            <div class="media-left">
                                                <div class="people_profile">
                                                    <img *ngIf="user?.avatarImages" src="{{ user?.avatarImages }}" alt="Profile" />
                                                    <img *ngIf="!user?.avatarImages" src="assets/otheruser.jpeg" alt="Profile" />
                                                </div>
                                            </div>
                                        </div>
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.
                                        </p>
                                    </div>

                                    <div class="col-md-4 list_box">
                                        <div class="media">
                                            <div class="media-body">
                                                <h4>{{ user?.firstName }}</h4>
                                            </div>
                                            <div class="media-left">
                                                <div class="people_profile">
                                                    <img *ngIf="user?.avatarImages" src="{{ user?.avatarImages }}" alt="Profile" />
                                                    <img *ngIf="!user?.avatarImages" src="assets/otheruser.jpeg" alt="Profile" />
                                                </div>
                                            </div>
                                        </div>
                                        <p>
                                            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="container description_text slider carousel-cat" *ngIf="programs?.length">
                            <div class="row row-0 align-items-center mb-30">
                                <div class="col-md-8">
                                    <h2 class="text-align-unset mb-0">
                                        More activities from <span class="clr-blue cursor" (click)="goToProfile()">{{program?.programOwner}}</span>
                                    </h2>
                                </div>
                                <div class="col-md-4">
                                    <span class="flat-right blue_heading cursor" (click)="goToProfile()">VIEW ALL {{programs?.length}}</span>
                                </div>
                            </div>
                            
                            <!-- <div class="row">
                                <div class="col-12">
                                    <div id="carouselExampleIndicators" class="carousel slide activities-carousel" data-ride="carousel">
                                        <div class="carousel-inner">
                                            <div class="carousel-item active container">
                                                <div class="row">
                                                    <div class="col-12 col-md" *ngFor="let program of programs | slice: 0:3">
                                                        <div class="activities_slide">
                                                            <div class="slide_image cursor" (click)="clickedProgram(program)">
                                                                <img [defaultImage]="defaultImage" [errorImage]="errorImage" [lazyLoad]="
                                    baseUrl + program?.category[0]?.pattern
                                  " />
                                                            </div>
                                                            <div class="slide_text">
                                                                <h3>
                                                                    <span class="title cursor" (click)="clickedProgram(program)">{{ program?.name
                                    }}</span>
                                                                </h3>
                                                                <div class="sports_btn" *ngFor="let cat of program?.category">
                                                                    <span>{{ cat?.name }}</span>
                                                                </div>
                                                                <div class="date_age">
                                                                    <p *ngIf="!program.isDateNotMention">
                                                                        <img alt="Loction Pin" src="assets/calendar.svg" /> {{ program?.date?.from | date: "mediumDate" }} - {{ program?.date?.to | date: "mediumDate" }}
                                                                    </p>
                                                                    <p *ngIf="program.isDateNotMention">
                                                                        <img alt="Loction Pin" src="assets/calendar.svg" /> Ongoing
                                                                    </p>
                                                                    <p>
                                                                        <img alt="Loction Pin" src="assets/user_group.svg" /> {{ program?.ageGroup?.from }} - {{ program?.ageGroup?.to }} Yrs.
                                                                    </p>
                                                                 
                                                                    <p *ngIf="!program?.isTimeNotMention">
                                                                        <img alt="Loction Pin" src="assets/user_group.svg" /> {{ program?.time?.from.toFixed(2)}} - {{ program?.time?.to.toFixed(2)}}
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="carousel-item" *ngIf="programs?.length > 3">
                                                <div class="row">
                                                    <div class="col-12 col-md" *ngFor="let program of programs | slice: 3:6">
                                                        <div class="activities_slide">
                                                            <div class="slide_image cursor" (click)="clickedProgram(program)">
                                                                <img [defaultImage]="defaultImage" [errorImage]="errorImage" [lazyLoad]="
                                    baseUrl + program?.category[0]?.pattern
                                  " />
                                                            </div>
                                                            <div class="slide_text">
                                                                <h3>
                                                                    <span class="title cursor" (click)="clickedProgram(program)">{{ program?.name }}</span>
                                                                </h3>
                                                                <div class="sports_btn" *ngFor="let cat of program?.category">
                                                                    <span>{{ cat?.name }}</span>
                                                                </div>
                                                                <div class="date_age">
                                                                    <p>
                                                                        <img alt="Loction Pin" src="assets/calendar.svg" /> {{ program?.date?.from | date: "mediumDate" }} - {{ program?.date?.to | date: "mediumDate" }}
                                                                    </p>
                                                                    <p>
                                                                        <img alt="Loction Pin" src="assets/user_group.svg" /> {{ program?.ageGroup?.from }} - {{ program?.ageGroup?.to }} Yrs.
                                                                    </p>
                                                              
                                                                    <p *ngIf="!program?.isTimeNotMention">
                                                                        <img alt="Loction Pin" src="assets/user_group.svg" /> {{ program?.time?.from.toFixed(2) }} - {{ program?.time?.to.toFixed(2) }}
                                                                    </p>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> -->
                            <div   [id]="'widgetsContent'" class="media-scroable">
                                <div *ngFor="let activity of programs | slice:0:4; let i = index" class="media activity">
                                    <div class="media-left activity-imgs">
                                        <!-- <img [defaultImage]="defaultImage"
                                            [errorImage]="baseUrl + program?.category[0]?.pattern"
                                            [lazyLoad]="baseUrl + program?.subCategoryIds[0]?.pattern" /> -->
                                        <!-- <img *ngIf="program?.category[0]?.pattern && !program?.subCategoryIds[0]?.pattern" [defaultImage]="defaultImage" [lazyLoad]="baseUrl + program?.category[0]?.pattern" /> -->
                                    </div>
                                    <div class="media-body body-detail-info">
                                        <div class="media-right-icon-h2">
                                            <div>
                                                <h2 class="cursor" >
                                                    {{ activity?.name }}
                                                </h2>
                                            </div>
                                            <div class="media-right-share-icon">
                                                <a data-toggle="modal" (click)="selectedProgram = activity"
                                                    data-target="#ShareModal" class="cursor display-none">
                                                    <!-- <img src="assets/share_gray.svg " class="section1"
                                                        joyrideStep="secondStep{{providerIndx}}"
                                                        title="💡 Share with friends and family"
                                                        text="Click here to share your favorite activities!"
                                                        alt="Share Icon " /> -->
                                                        <img src="assets/share_gray.svg " alt="Share Icon " />
                                                </a>
                                                <div class="bookmark_outer">
                                                          <a *ngIf="!activity?.isFav  && isLogin && !providerRole" (click)="addFav(activity?._id,i)" class="bookmark_icon cursor" ><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>

                                                            <a *ngIf="!isLogin && !providerRole" routerLink="/login" class="bookmark_icon cursor"><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>
                    
                                                            <a *ngIf="activity?.isFav  && isLogin && !providerRole" (click)="deleteFav(activity?._id,i)" class="bookmark_icon cursor"><img src="assets/bookmarkOrange.png " alt="Menu Image " /></a>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="list_outer row row-0">
                                            <div class="list col-12 mt-2 mb-1">
                                                <p>by {{ activity?.programOwner }}</p>
                                            </div>
                                            <div class="col-md-12" *ngIf="activity?.location">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/location-dark-icon.png" alt="location-icon" />
                                                    </div>
                                                    <div>
                                                        <p>{{activity?.location?.substring(0, activity?.location?.lastIndexOf(", "))}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/calender-icon-img1.png" alt="calender-icon" />
                                                    </div>
                                                    <div>
                                                        <p>{{activity?.date?.from | date:"EEE, MMM dd"}} - {{activity?.date?.to | date:"MMM dd"}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/watch-icon-img.png" alt="calender-icon" />
                                                    </div>
                                                    <div>
                                                        <p> {{globalFunc.tools_replaceAll(activity?.time?.from?.toFixed(2)?.toString(),".",":" )}} – {{globalFunc.tools_replaceAll(activity?.time?.to?.toFixed(2)?.toString(),".",":" )}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div class="left-icon-box-media">
                                                    <div><img src="assets/user-icon-img.png" alt="School image " />
                                                    </div>
                                                    <div>
                                                        <p>{{ activity?.ageGroup?.from + "-" + activity?.ageGroup?.to }} Yrs</p>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-12">
                                                <div *ngIf="(!activity?.isFree && activity?.pricePerParticipant)|| (activity?.isFree && !activity?.pricePerParticipant)" class="price-box left-icon-box-media">
                                                    <div><img src="assets/price-doller-icon.png" /></div>
                                                    <div>
                                                        <p *ngIf="!activity?.isFree && activity?.pricePerParticipant">
                                                            <span>{{
                                                                activity.pricePerParticipant
                                                                }}<span *ngIf="activity?.pricePeriod?.periodAmount">/{{
                                                                    activity?.pricePeriod?.periodAmount
                                                                    }}</span></span>
                                                        </p>
                                                        <p *ngIf="activity?.isFree && !activity?.pricePerParticipant"><img
                                                                src="assets/price.svg" /><span> Free</span></p>
                                                        <!-- <p *ngIf="!activity?.isFree && !activity?.pricePerParticipant"><img src="assets/price.svg" /><span> Price Not Mentioned</span></p> -->
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="col-md-12 display-none">
                                                <p *ngIf="!activity?.isDateNotMention">
                                                    <img src="assets/calendar.svg " alt="School image " />{{
                                                        activity?.date?.from | date: "MMM d " }} – {{ activity?.date?.to |
                                                    date:
                                                    "MMM d " }}
                                                </p>
                                                <p *ngIf="activity?.isDateNotMention">
                                                    Ongoing
                                                </p>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                              
                                <!-- --------------------------------------------------Programs list second--------------------------------------------------- -->
                                <!-- <div *ngFor="let program of programs | slice:6; let i = index" class="media activity">
                            <div class="media-left activity-imgs" (click)="goToProgramDetail(program)">
                                <img [defaultImage]="defaultImage" [errorImage]="baseUrl + program?.category[0]?.pattern" [lazyLoad]="baseUrl + program?.subCategoryIds[0]?.pattern" />
                            </div>
                            <div class="media-body">
                                <div class="share_icon">
                                    <a data-toggle="modal" (click)="selectedProgram = program" data-target="#ShareModal" class="cursor">
                                        <img src="assets/share_gray.svg "  alt="Share Icon " />
                                    </a>
                                    <div class="bookmark_outer">
                                        <a *ngIf="!program?.isFav && parentRole && isLogin" (click)="addFavProgram(userData.id, program?._id, i+6)" class="bookmark_icon cursor"><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>

                                        <a *ngIf="!isLogin" routerLink="/login" class="bookmark_icon cursor"><img src="assets/bookmark_gray.svg " alt="Menu Image " /></a>

                                        <a *ngIf="program?.isFav && parentRole && isLogin" (click)="deleteFavProgram(program?._id, i+6)" class="bookmark_icon cursor"><img src="assets/bookmarkOrange.png " alt="Menu Image " /></a>
                                    </div>
                                </div>
                                <h2 class="cursor" (click)="goToProgramDetail(program)">
                                    {{ program?.name }}
                                </h2>
                                <div class="list_outer row row-0">
                                    <div class="list col-12 mt-2 mb-1">
                                        <p>by {{ program?.programOwner }}</p>
                                    </div>
                                    <div class="rating-starsearch">
                                        <p (click)="
                          getRating(program);
                          programOwnerData.firstName = program?.programOwner
                        " class="cursor" data-toggle="collapse" [attr.data-target]="'#collapseExamplestar' + i" role="button" aria-expanded="false" aria-controls="collapseExamplestar">
                                            <span *ngIf="program?.averageFinalRating == 0">
                          <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 1">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 1 &&
                            program?.averageFinalRating < 2
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 2">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 2 &&
                            program?.averageFinalRating < 3
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 3">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 3 &&
                            program?.averageFinalRating < 4
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 4">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-o"></span>
                                            </span>
                                            <span *ngIf="
                            program?.averageFinalRating > 4 &&
                            program?.averageFinalRating < 5
                          ">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star-half-o checked"></span>
                                            </span>
                                            <span *ngIf="program?.averageFinalRating == 5">
                          <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            <span class="fa fa-star checked"></span>
                                            </span>
                                            <span class="no-underline">(</span><a *ngIf="program?.totalReviews">{{program?.totalReviews }} reviews</a>
                                            <a *ngIf="!program?.totalReviews">0 reviews</a><span class="no-underline">)</span>
                                        </p>
                                        <div *ngIf="rating" class="collapse star-daialogbox" id="collapseExamplestar{{ i }}">
                                            <button type="button" data-toggle="collapse" [attr.data-target]="'#collapseExamplestar' + i" class="close star-daialogicon" aria-label="Close">
                          <span aria-hidden="true"><img src="assets/grey-close.png" /></span>
                        </button>
                                            <app-rating [rating]="rating" [user]="programOwnerData"></app-rating>
                                        </div>
                                    </div>
                                    <div class="coding_text">
                                        <div *ngIf="program?.subCategoryIds?.length || program?.category?.length" class="coding-text-1">
                                            <h3 class="cursor" *ngFor="
                            let cat of program?.category" (click)="selectedCat='';categoryId='';selectedSubCategories=[];subCats=[];searchedSubCategory=cat?.name; categoryId = cat._id;programFilter() ">
                                                {{ cat?.name }}
                                            </h3>
                                            <h3 class="cursor" *ngFor="
                            let subCat of program?.subCategoryIds | slice: 0:2
                          " (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat?._id;programFilter() ">
                                                {{ subCat?.name }}
                                            </h3>
                                            <h6 *ngIf="program?.subCategoryIds?.length > 2" class="" data-toggle="collapse" href="#morecategories" [attr.data-target]="'#morecategories' + i">
                                                +{{ program?.subCategoryIds?.length - 2 }} more
                                                <div class="collapse main_collpases verification_modal" id="morecategories{{ i }}" data-parent="#accordionExample">
                                                    <div class="collpase_content">
                                                        <div class="categories-content">
                                                            <span><img src="assets/grey-close.png" /> </span>
                                                            <h5 *ngFor="
                                    let subCat of program?.subCategoryIds
                                      | slice: 2:program?.subCategoryIds?.length
                                  " class="collapse-btn cursor" (click)="selectedCat='';categoryId='';subCats=[];searchedSubCategory=subCat?.name; selectedSubCategories[0] = subCat._id;programFilter() ">
                                                                {{ subCat?.name }}
                                                            </h5>
                                                        </div>
                                                    </div>
                                                </div>
                                            </h6>
                                        </div>
                                    </div>

                                    <div class="list col-md-4">
                                        <p>
                                            <img src="assets/user_group.svg " alt="School image " />{{ program?.ageGroup?.from + "-" + program?.ageGroup?.to }} Yrs
                                        </p>
                                    </div>
                                    <div class="list col-md-6">
                                        <p *ngIf="!program?.isDateNotMention">
                                            <img src="assets/calendar.svg " alt="School image " />{{ program?.date?.from | date: "MMM d " }} – {{ program?.date?.to | date: "MMM d " }}
                                        </p>
                                        <p *ngIf="program?.isDateNotMention">
                                            Ongoing
                                        </p>
                                    </div>
                                </div>
                                <div class="price-box">
                                    <p *ngIf="!program?.isFree && program?.pricePerParticipant">
                                        <span><img src="assets/price.svg" />{{
                        program.pricePerParticipant
                        }}<span *ngIf="program?.pricePeriod?.periodAmount">/{{ program?.pricePeriod?.periodAmount
                          }}</span></span>
                                    </p>
                                    <p *ngIf="program?.isFree && !program?.pricePerParticipant"><img src="assets/price.svg" /><span> Free</span></p>
                                    <p *ngIf="!program?.isFree && !program?.pricePerParticipant"><img src="assets/price.svg" /><span> Price Not Mentioned</span></p>
                                </div>
                                <div class="rating_box">

                                </div>
                            </div>
                        </div> -->
                            </div>
                            <!-- <div class="" *ngIf="programs?.length>4">
                                <a href="#carouselExampleIndicators" data-slide="next">
                                    <div class="carousel-nav-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 129 129" xmlns:xlink="http://www.w3.org/1999/xlink">
                      <path
                        d="m40.4,121.3c-0.8,0.8-1.8,1.2-2.9,1.2s-2.1-0.4-2.9-1.2c-1.6-1.6-1.6-4.2 0-5.8l51-51-51-51c-1.6-1.6-1.6-4.2 0-5.8 1.6-1.6 4.2-1.6 5.8,0l53.9,53.9c1.6,1.6 1.6,4.2 0,5.8l-53.9,53.9z" />
                    </svg>
                                    </div>
                                </a>
                            </div> -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <app-footer2></app-footer2>
</body>


<share-popup [shareData]="selectedProgram" fgsSize="100"></share-popup>

<!-- <ngx-ui-loader></ngx-ui-loader> -->
<ngx-ui-loader [fgsTemplate]="foregroundSpinner">
    
</ngx-ui-loader>
<ng-template #foregroundSpinner>
	  <ng-lottie [options]="optionslotti" width="200px" height="200px"></ng-lottie>
</ng-template>

<share-popup [shareData]="selectedProgram"></share-popup>